# -*- coding: utf-8 -*-
# vim: ft=jinja

#
# See the unbound.conf(5) man page.
#
# DO NOT EDIT MANUALY THIS FILE
# AUTO GENERATED BY SALT

#
# server section
#
server:
    # The following line will configure unbound to perform cryptographic
    # DNSSEC validation using the root trust anchor.
    auto-trust-anchor-file: "/var/lib/unbound/root.key"
{%- if config.server.interfaces is defined %}
    # interfaces
    {%- for ifx in config.server.interfaces %}
    interface: {{ifx}}
    {%- endfor %}
{%- endif -%}
{%- if config.server.acls is defined %}
    # ACLS
    {%- for acl in config.server.acls %}
    access-control: {{acl}}
    {%- endfor %}
{%- endif -%}
{%- if config.server.domains_insecure is defined %}
    # domain-insecure
    {%- for domain in config.server.domains_insecure %}
    domain-insecure: "{{domain}}"
    {%- endfor %}
{%- endif -%}
{%- if config.server.private_domains is defined %}
    # private-domain
    {%- for domain in config.server.private_domains %}
    private-domain: "{{domain}}"
    {%- endfor %}
{%- endif -%}
{%- if config.server.private_addresses is defined %}
    # private-address
    {%- for address in config.server.private_addresses %}
    private-address: "{{address}}"
    {%- endfor %}
{%- endif -%}
{%- if config.server.local_zones is defined %}
    # local-zone
    {%- for zone in config.server.local_zones %}
    local-zone: {{zone}}
    {%- endfor %}
{%- endif -%}
{%- if config.server.options is defined %}
    # some config options
    {%- for option in config.server.options %}
    {{option.key}}: {{option.value}}
    {%- endfor %}
{%- endif -%}

{%- if config.stubzones is defined %}
    {% for zone in config.stubzones %}
#
# {{zone.zonename}} stub-zone section
#
stub-zone:
    name: "{{ zone.zonename }}"
        {%- for option in zone.options %}
    {{option.key}}: {{option.value}}
        {%- endfor %}
    {% endfor %}
{%- endif -%}

{%- if config.forwardzones is defined %}
    {% for zone in config.forwardzones %}
#
# {{zone.zonename}} forward-zone section
#
forward-zone:
    name: "{{ zone.zonename }}"
        {%- for option in zone.options %}
    {{option.key}}: {{option.value}}
        {%- endfor %}
    {% endfor %}
{%- endif -%}
